import{r as oe,f as K,s as ce,h as Q,i as te,j as ae,k as ue}from"../chunks/scheduler.9348c832.js";import{t as ne,d as se,S as de,i as fe,g as F,s as P,m as z,h as T,y as pe,c as D,j as C,n as B,f as $,k as h,a as H,x as A,b as me,o as le,z as he,A as _e,p as ge}from"../chunks/index.30510431.js";import{p as ve}from"../chunks/parse.bee59afc.js";import{j as ye,k as be}from"../chunks/singletons.f3e5867c.js";function X(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function we(e,t){ne(e,1,1,()=>{t.delete(e.key)})}function Ee(e,t,i,r,n,a,c,p,w,_,s,y){let g=e.length,u=a.length,v=g;const E={};for(;v--;)E[e[v].key]=v;const b=[],d=new Map,o=new Map,O=[];for(v=u;v--;){const m=y(n,a,v),S=i(m);let U=c.get(S);U?r&&O.push(()=>U.p(m,t)):(U=_(S,m),U.c()),d.set(S,b[v]=U),S in E&&o.set(S,Math.abs(v-E[S]))}const q=new Set,L=new Set;function I(m){se(m,1),m.m(p,s),c.set(m.key,m),s=m.first,u--}for(;g&&u;){const m=b[u-1],S=e[g-1],U=m.key,k=S.key;m===S?(s=m.first,g--,u--):d.has(k)?!c.has(U)||q.has(U)?I(m):L.has(k)?g--:o.get(U)>o.get(k)?(L.add(U),I(m)):(q.add(k),g--):(w(S,c),g--)}for(;g--;){const m=e[g];d.has(m.key)||w(m,c)}for(;u;)I(b[u-1]);return oe(O),b}const Le=""+new URL("../assets/etc-logo.b57e813f.png",import.meta.url).href,ke=""+new URL("../assets/coming-soon.0dbd45c7.png",import.meta.url).href,qe=""+new URL("../assets/instagram.5f4bd524.png",import.meta.url).href;function re(e){const t=e-1;return t*t*t+1}function Me(e,{delay:t=0,duration:i=400,easing:r=re,x:n=0,y:a=0,opacity:c=0}={}){const p=getComputedStyle(e),w=+p.opacity,_=p.transform==="none"?"":p.transform,s=w*(1-c),[y,g]=K(n),[u,v]=K(a);return{delay:t,duration:i,easing:r,css:(E,b)=>`
			transform: ${_} translate(${(1-E)*y}${g}, ${(1-E)*u}${v});
			opacity: ${w-s*b}`}}function Ae(e,{delay:t=0,duration:i=400,easing:r=re,axis:n="y"}={}){const a=getComputedStyle(e),c=+a.opacity,p=n==="y"?"height":"width",w=parseFloat(a[p]),_=n==="y"?["top","bottom"]:["left","right"],s=_.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),y=parseFloat(a[`padding${s[0]}`]),g=parseFloat(a[`padding${s[1]}`]),u=parseFloat(a[`margin${s[0]}`]),v=parseFloat(a[`margin${s[1]}`]),E=parseFloat(a[`border${s[0]}Width`]),b=parseFloat(a[`border${s[1]}Width`]);return{delay:t,duration:i,easing:r,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*c};${p}: ${d*w}px;padding-${_[0]}: ${d*y}px;padding-${_[1]}: ${d*g}px;margin-${_[0]}: ${d*u}px;margin-${_[1]}: ${d*v}px;border-${_[0]}-width: ${d*E}px;border-${_[1]}-width: ${d*b}px;`}}const $e=ye("invalidate_all");function Fe(e){return be.apply_action(e)}function Te(e){const t=JSON.parse(e);return t.data&&(t.data=ve(t.data)),t}function Y(e){return HTMLElement.prototype.cloneNode.call(e)}function ie(e,t=()=>{}){const i=async({action:n,result:a,reset:c=!0,invalidateAll:p=!0})=>{a.type==="success"&&(c&&HTMLFormElement.prototype.reset.call(e),p&&await $e()),(location.origin+location.pathname===n.origin+n.pathname||a.type==="redirect"||a.type==="error")&&Fe(a)};async function r(n){var v,E,b,d;if(((v=n.submitter)!=null&&v.hasAttribute("formmethod")?n.submitter.formMethod:Y(e).method)!=="post")return;n.preventDefault();const c=new URL((E=n.submitter)!=null&&E.hasAttribute("formaction")?n.submitter.formAction:Y(e).action),p=new FormData(e),w=(b=n.submitter)==null?void 0:b.getAttribute("name");w&&p.append(w,((d=n.submitter)==null?void 0:d.getAttribute("value"))??"");const _=new AbortController;let s=!1;const g=await t({action:c,cancel:()=>s=!0,controller:_,get data(){return p},formData:p,get form(){return e},formElement:e,submitter:n.submitter})??i;if(s)return;let u;try{const o=await fetch(c,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:p,signal:_.signal});u=Te(await o.text()),u.type==="error"&&(u.status=o.status)}catch(o){if((o==null?void 0:o.name)==="AbortError")return;u={type:"error",error:o}}g({action:c,get data(){return p},formData:p,get form(){return e},formElement:e,update:o=>i({action:c,result:u,reset:o==null?void 0:o.reset,invalidateAll:o==null?void 0:o.invalidateAll}),result:u})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",r)}}}function Z(e,t,i){const r=e.slice();return r[7]=t[i],r}function x(e){let t,i=e[1].error+"",r;return{c(){t=F("p"),r=z(i),this.h()},l(n){t=T(n,"P",{class:!0});var a=C(t);r=B(a,i),a.forEach($),this.h()},h(){h(t,"class","error")},m(n,a){H(n,t,a),A(t,r)},p(n,a){a&2&&i!==(i=n[1].error+"")&&le(r,i)},d(n){n&&$(t)}}}function ee(e,t){let i,r,n,a,c,p,w=t[7].description+"",_,s,y,g,u,v,E,b,d,o;function O(){return t[6](t[7])}return{key:e,first:null,c(){i=F("li"),r=F("form"),n=F("input"),c=P(),p=F("span"),_=z(w),s=P(),y=F("button"),u=P(),this.h()},l(q){i=T(q,"LI",{});var L=C(i);r=T(L,"FORM",{method:!0,action:!0,class:!0});var I=C(r);n=T(I,"INPUT",{type:!0,name:!0,class:!0}),c=D(I),p=T(I,"SPAN",{class:!0});var m=C(p);_=B(m,w),m.forEach($),s=D(I),y=T(I,"BUTTON",{"aria-label":!0,class:!0}),C(y).forEach($),I.forEach($),u=D(L),L.forEach($),this.h()},h(){h(n,"type","hidden"),h(n,"name","id"),n.value=a=t[7].id,h(n,"class","svelte-19q1c46"),h(p,"class","svelte-19q1c46"),h(y,"aria-label","Mark as complete"),h(y,"class","svelte-19q1c46"),h(r,"method","POST"),h(r,"action","?/delete"),h(r,"class","svelte-19q1c46"),this.first=i},m(q,L){H(q,i,L),A(i,r),A(r,n),A(r,c),A(r,p),A(p,_),A(r,s),A(r,y),A(i,u),b=!0,d||(o=te(g=ie.call(null,r,O)),d=!0)},p(q,L){t=q,(!b||L&9&&a!==(a=t[7].id))&&(n.value=a),(!b||L&9)&&w!==(w=t[7].description+"")&&le(_,w),g&&ae(g.update)&&L&9&&g.update.call(null,O)},i(q){b||(q&&ue(()=>{b&&(E&&E.end(1),v=he(i,Me,{y:20}),v.start())}),b=!0)},o(q){v&&v.invalidate(),q&&(E=_e(i,Ae,{})),b=!1},d(q){q&&$(i),q&&E&&E.end(),d=!1,o()}}}function Se(e){var W;let t,i=`<a href="https://www.instagram.com/app.etc/" alt="Instagram Link" target="_blank"><img src="${qe}" alt="Instagram Logo" class="instagram svelte-19q1c46"/></a>`,r,n,a,c,p,w,_,s,y,g,u,v,E,b,d,o=[],O=new Map,q,L,I,m,S,U,k=((W=e[1])==null?void 0:W.error)&&x(e),N=X(e[0].todos.filter(e[5]));const G=l=>l[7].id;for(let l=0;l<N.length;l+=1){let f=Z(e,N,l),M=G(f);O.set(M,o[l]=ee(M,f))}return{c(){t=F("div"),t.innerHTML=i,r=P(),n=F("div"),a=F("div"),c=F("img"),w=P(),k&&k.c(),_=P(),s=F("form"),y=F("label"),g=z(`add a produtct:
        `),u=F("input"),b=P(),d=F("ul");for(let l=0;l<o.length;l+=1)o[l].c();q=P(),L=F("img"),this.h()},l(l){t=T(l,"DIV",{class:!0,"data-svelte-h":!0}),pe(t)!=="svelte-1q28boc"&&(t.innerHTML=i),r=D(l),n=T(l,"DIV",{class:!0});var f=C(n);a=T(f,"DIV",{class:!0});var M=C(a);c=T(M,"IMG",{src:!0,alt:!0,class:!0}),w=D(M),k&&k.l(M),_=D(M),s=T(M,"FORM",{method:!0,action:!0,class:!0});var R=C(s);y=T(R,"LABEL",{class:!0});var V=C(y);g=B(V,`add a produtct:
        `),u=T(V,"INPUT",{name:!0,autocomplete:!0,class:!0}),V.forEach($),R.forEach($),b=D(M),d=T(M,"UL",{class:!0});var J=C(d);for(let j=0;j<o.length;j+=1)o[j].l(J);J.forEach($),M.forEach($),f.forEach($),q=D(l),L=T(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var l;h(t,"class","instagram-container svelte-19q1c46"),Q(c.src,p=ke)||h(c,"src",p),h(c,"alt","Et Cetera Logo"),h(c,"class","coming-soon svelte-19q1c46"),h(u,"name","description"),h(u,"autocomplete","off"),u.required=!0,u.value=v=((l=e[1])==null?void 0:l.description)??"",u.disabled=e[2],h(u,"class","svelte-19q1c46"),h(y,"class","svelte-19q1c46"),h(s,"method","POST"),h(s,"action","?/create"),h(s,"class","svelte-19q1c46"),h(d,"class","todos"),h(a,"class","centered svelte-19q1c46"),h(n,"class","container svelte-19q1c46"),Q(L.src,I=Le)||h(L,"src",I),h(L,"alt","Et Cetera Logo"),h(L,"class","logo svelte-19q1c46")},m(l,f){H(l,t,f),H(l,r,f),H(l,n,f),A(n,a),A(a,c),A(a,w),k&&k.m(a,null),A(a,_),A(a,s),A(s,y),A(y,g),A(y,u),A(a,b),A(a,d);for(let M=0;M<o.length;M+=1)o[M]&&o[M].m(d,null);H(l,q,f),H(l,L,f),m=!0,S||(U=te(E=ie.call(null,s,e[4])),S=!0)},p(l,[f]){var M,R;(M=l[1])!=null&&M.error?k?k.p(l,f):(k=x(l),k.c(),k.m(a,_)):k&&(k.d(1),k=null),(!m||f&2&&v!==(v=((R=l[1])==null?void 0:R.description)??"")&&u.value!==v)&&(u.value=v),(!m||f&4)&&(u.disabled=l[2]),E&&ae(E.update)&&f&4&&E.update.call(null,l[4]),f&9&&(N=X(l[0].todos.filter(l[5])),ge(),o=Ee(o,f,G,1,l,N,O,d,we,ee,null,Z),me())},i(l){if(!m){for(let f=0;f<N.length;f+=1)se(o[f]);m=!0}},o(l){for(let f=0;f<o.length;f+=1)ne(o[f]);m=!1},d(l){l&&($(t),$(r),$(n),$(q),$(L)),k&&k.d();for(let f=0;f<o.length;f+=1)o[f].d();S=!1,U()}}}function Ie(e,t,i){let{data:r}=t,{form:n}=t,a=!1,c=[];const p=()=>(i(2,a=!0),async({update:s})=>{await s(),i(2,a=!1)}),w=s=>!c.includes(s.id),_=s=>(i(3,c=[...c,s.id]),async({update:y})=>{await y(),i(3,c=c.filter(g=>g!==s.id))});return e.$$set=s=>{"data"in s&&i(0,r=s.data),"form"in s&&i(1,n=s.form)},[r,n,a,c,p,w,_]}class De extends de{constructor(t){super(),fe(this,t,Ie,Se,ce,{data:0,form:1})}}export{De as component};
